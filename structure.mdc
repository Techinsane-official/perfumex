# Project X - Structure Overview

## ğŸ“ Projectstructuur â€“ bijgewerkt

```
projextX/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ audit-logs/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ brands/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ export/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bulk/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repeat/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ templates/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ export-history/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ import/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bulk/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ check-duplicates/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ import-history/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ import-rollback/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ export-pdf/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ export/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ images/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ security/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ users/
â”‚   â”‚   â”‚       â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ activity/
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ generate-url/
â”‚   â”‚   â”‚       â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ [...nextauth]/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ customer/
â”‚   â”‚   â”‚   â”œâ”€â”€ invoices/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ pdf/
â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ price-summary/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ reviews/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ import/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ rollback/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ notifications/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ read/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ push/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ read-all/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts
â”‚   â”‚   â””â”€â”€ reviews/
â”‚   â”‚       â””â”€â”€ route.ts
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ audit-trail/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ customers/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ new/
â”‚   â”‚   â”‚       â”œâ”€â”€ actions.ts
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardClient.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ export-history/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ import-history/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ mobile/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ delete/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ actions.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ import/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ reviews/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ users/
â”‚   â”‚       â”œâ”€â”€ new/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ buyer/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ order-confirmation/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ order-preview/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ actions.ts
â”‚   â”‚   â”œâ”€â”€ AuditTrail.tsx
â”‚   â”‚   â”œâ”€â”€ CreateUserForm.tsx
â”‚   â”‚   â”œâ”€â”€ MobileAdminDashboard.tsx
â”‚   â”‚   â”œâ”€â”€ ProductForm.tsx
â”‚   â”‚   â”œâ”€â”€ ProductList.tsx
â”‚   â”‚   â””â”€â”€ UserList.tsx
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ DashboardTabs.tsx
â”‚   â”‚   â”œâ”€â”€ Downloads.tsx
â”‚   â”‚   â”œâ”€â”€ NotificationCenter.tsx
â”‚   â”‚   â”œâ”€â”€ OrderHistory.tsx
â”‚   â”‚   â”œâ”€â”€ PricingSummary.tsx
â”‚   â”‚   â””â”€â”€ ReviewManagement.tsx
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â””â”€â”€ OrderList.tsx
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â””â”€â”€ ProductGrid.tsx
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ AccessUrlDialog.tsx
â”‚       â”œâ”€â”€ BackButton.tsx
â”‚       â”œâ”€â”€ Badge.tsx
â”‚       â”œâ”€â”€ BrandAutocomplete.tsx
â”‚       â”œâ”€â”€ BulkExportDialog.tsx
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Card.tsx
â”‚       â”œâ”€â”€ ColumnMapper.tsx
â”‚       â”œâ”€â”€ CSRFToken.tsx
â”‚       â”œâ”€â”€ DuplicateDetectionConfig.tsx
â”‚       â”œâ”€â”€ ErrorBoundary.tsx
â”‚       â”œâ”€â”€ ExportTemplateManager.tsx
â”‚       â”œâ”€â”€ FileValidationDisplay.tsx
â”‚       â”œâ”€â”€ Form.tsx
â”‚       â”œâ”€â”€ ImageUpload.tsx
â”‚       â”œâ”€â”€ ImportPreviewTable.tsx
â”‚       â”œâ”€â”€ ImportProgress.tsx
â”‚       â”œâ”€â”€ ImportRollbackDialog.tsx
â”‚       â”œâ”€â”€ ImportStartButton.tsx
â”‚       â”œâ”€â”€ ImportSuccess.tsx
â”‚       â”œâ”€â”€ MobileNavigation.tsx
â”‚       â”œâ”€â”€ Modal.tsx
â”‚       â”œâ”€â”€ NotificationCenter.tsx
â”‚       â”œâ”€â”€ OfflineIndicator.tsx
â”‚       â”œâ”€â”€ OrderPDFExportDialog.tsx
â”‚       â”œâ”€â”€ ProductExportDialog.tsx
â”‚       â”œâ”€â”€ PWAInstallPrompt.tsx
â”‚       â”œâ”€â”€ PWAProvider.tsx
â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚       â”œâ”€â”€ StatusBadge.tsx
â”‚       â”œâ”€â”€ Table.tsx
â”‚       â”œâ”€â”€ TagsInput.tsx
â”‚       â”œâ”€â”€ UserActivityDialog.tsx
â”‚       â””â”€â”€ ValidationSummary.tsx
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ import/
â”‚   â”‚   â”œâ”€â”€ importHistory.ts
â”‚   â”‚   â”œâ”€â”€ importProducts.ts
â”‚   â”‚   â””â”€â”€ importRollback.ts
â”‚   â”œâ”€â”€ validation/
â”‚   â”‚   â”œâ”€â”€ fileValidation.ts
â”‚   â”‚   â””â”€â”€ importValidation.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ mapFormFields.ts
â”‚   â”œâ”€â”€ audit.ts
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ csrf.ts
â”‚   â”œâ”€â”€ middleware-utils.ts
â”‚   â”œâ”€â”€ pricing.ts
â”‚   â”œâ”€â”€ prisma.ts
â”‚   â”œâ”€â”€ rate-limit.ts
â”‚   â”œâ”€â”€ security-monitoring.ts
â”‚   â”œâ”€â”€ supabase.ts
â”‚   â”œâ”€â”€ utils.ts
â”‚   â””â”€â”€ validation.ts
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ next-auth.d.ts
â”‚   â””â”€â”€ test-strict.ts
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ schema.prisma
â”‚   â””â”€â”€ seed.ts
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ browserconfig.xml
â”‚   â”œâ”€â”€ file.svg
â”‚   â”œâ”€â”€ globe.svg
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ next.svg
â”‚   â”œâ”€â”€ offline.html
â”‚   â”œâ”€â”€ placeholder-image.png
â”‚   â”œâ”€â”€ sw.js
â”‚   â”œâ”€â”€ vercel.svg
â”‚   â””â”€â”€ window.svg
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ add-dynamic-rendering.ts
â”‚   â”œâ”€â”€ cleanup-direct.ts
â”‚   â”œâ”€â”€ cleanup.ts
â”‚   â”œâ”€â”€ debug-cleanup.ts
â”‚   â”œâ”€â”€ debug-database.ts
â”‚   â”œâ”€â”€ safe-cleanup.ts
â”‚   â””â”€â”€ seed-testproducts.ts
â”œâ”€â”€ dev/
â”‚   â””â”€â”€ import-sample.csv
â”œâ”€â”€ e2e/
â”œâ”€â”€ __tests__/
â”œâ”€â”€ .github/
â”œâ”€â”€ middleware.ts
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.mjs
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ eslint.config.mjs
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ netlify.toml
â”œâ”€â”€ package.json
â”œâ”€â”€ generate-tasks.md
â”œâ”€â”€ structure.mdc
â”œâ”€â”€ ProjectX-PRD.md
â”œâ”€â”€ DEPLOYMENT.md
â”œâ”€â”€ AUDIT_LOGGING.md
â”œâ”€â”€ BACKUP_STRATEGY.md
â”œâ”€â”€ DATABASE_PERFORMANCE.md
â”œâ”€â”€ SUPABASE_SETUP.md
â”œâ”€â”€ GITHUB_ACTIONS_SETUP.md
â”œâ”€â”€ README.md
â””â”€â”€ env.example
```

## ğŸ“‹ Component Organisatie

### UI Components (`components/ui/`)
Herbruikbare UI componenten voor het hele platform:
- **Button.tsx** - Herbruikbare knoppen met varianten
- **Card.tsx** - Layout componenten
- **Modal.tsx** - Dialog componenten
- **Table.tsx** - Data tabellen
- **Badge.tsx** - Status badges
- **Form.tsx** - Form wrappers
- **Sidebar.tsx** - Navigatie componenten
- **StatusBadge.tsx** - Status indicators
- **ErrorBoundary.tsx** - Error handling

### Module Components
- **`components/admin/`** - Admin-specifieke componenten
- **`components/dashboard/`** - Customer dashboard componenten
- **`components/products/`** - Product-gerelateerde componenten
- **`components/orders/`** - Order management componenten

### Import/Export Components (`components/ui/`)
- **ImportRollbackDialog.tsx** - Rollback functionaliteit
- **ImportProgress.tsx** - Import voortgang
- **ImportPreviewTable.tsx** - Import preview
- **BulkExportDialog.tsx** - Export functionaliteit
- **ProductExportDialog.tsx** - Product export
- **ExportTemplateManager.tsx** - Export templates

## ğŸ”§ Library Structure

### Core Libraries (`lib/`)
- **`lib/auth.ts`** - Authentication utilities
- **`lib/prisma.ts`** - Database client
- **`lib/utils.ts`** - General utilities
- **`lib/pricing.ts`** - Pricing calculations
- **`lib/audit.ts`** - Audit logging
- **`lib/validation.ts`** - Data validation

### Import System (`lib/import/`)
- **`importProducts.ts`** - Product import logic
- **`importHistory.ts`** - Import history tracking
- **`importRollback.ts`** - Rollback functionality

### Validation (`lib/validation/`)
- **`fileValidation.ts`** - File upload validation
- **`importValidation.ts`** - Import data validation

## ğŸ“ API Routes

### Admin API (`app/api/admin/`)
- Product management
- User management
- Export/Import operations
- Audit logging
- Security monitoring

### Customer API (`app/api/customer/`)
- Order management
- Price summaries
- Review system
- Invoice generation

### Import API (`app/api/import/`)
- Rollback functionality
- Import status tracking

## ğŸ¯ Best Practices

1. **Component Organization**: Module-specific components in `components/[module]/`, reusable UI in `components/ui/`
2. **Import Paths**: Use absolute imports with `@/` prefix
3. **Type Safety**: All components use TypeScript with proper interfaces
4. **Error Handling**: Comprehensive error boundaries and validation
5. **Audit Logging**: All admin actions are logged for compliance
6. **Security**: Role-based access control throughout the application 